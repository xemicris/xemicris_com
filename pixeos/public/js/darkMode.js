import{darkMode}from"./projectData.js";import{useFetch}from"./useFetch.js";const{urlFondo:urlFondo,urlCambiarFondo:urlCambiarFondo,btnFondo:btnFondo,root:root}=darkMode();async function initBackground(){try{const o=await useFetch(urlFondo);setMode("1"===o.fondo)}catch(o){}}function setMode(o){o?(root.classList.add("dark"),btnFondo&&(btnFondo.textContent="Modo claro"),localStorage.setItem("darkMode","enabled")):(root.classList.remove("dark"),btnFondo&&(btnFondo.textContent="Modo oscuro"),localStorage.setItem("darkMode","disabled"))}async function changeBackground(){try{const o=!("enabled"===localStorage.getItem("darkMode")),t={fondo:o?"1":"0"};await useFetch(urlCambiarFondo,"",t),setMode(o)}catch(o){}}btnFondo&&btnFondo.addEventListener("click",changeBackground),initBackground();