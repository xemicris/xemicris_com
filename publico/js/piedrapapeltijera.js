var posibilidades=["piedra","papel","tijera"];let body=document.getElementsByTagName("body")[0];var imagenes=document.getElementsByClassName("ima"),imagenMaquina=document.getElementsByTagName("img")[4];let seleccionJugador,puntuacionJugador=document.querySelector(".puntuacion__jugador"),puntuacionMaquina=document.querySelector(".puntuacion__maquina"),puntosJugador=0,puntosMaquina=0,fin=document.querySelector(".fin"),resultado=document.querySelector(".resultado"),bloqueImagenes=document.querySelector(".imagenes"),botonReiniciar=document.querySelector(".contenedor"),alturaCargar=bloqueImagenes.clientHeight,alturaJugar=botonReiniciar.clientHeight;function fadeOut(e){e.style.opacity=1,function a(){(e.style.opacity-=.05)<0?e.style.display="none":requestAnimationFrame(a)}()}function fadeIn(e){e.style.opacity=0,e.style.display="flex",function a(){let n=parseFloat(e.style.opacity);(n+=.005)>1||(e.style.opacity=n,requestAnimationFrame(a))}()}function cargarImagenes(){for(var e=0;e<posibilidades.length;e++)imagenes[e].src="publico/imagenes/piedrapapeltijera/"+posibilidades[e]+".avif",imagenes[e].alt=posibilidades[e],imagenes[e].addEventListener("click",ponerBorde,!1),seleccionJugador=posibilidades[0]}function ponerBorde(e){for(var a=0;a<posibilidades.length;a++)imagenes[a]==e.target?(imagenes[a].classList.add("seleccionado"),imagenes[a].classList.remove("noSeleccionado")):(imagenes[a].classList.remove("seleccionado"),imagenes[a].classList.add("noSeleccionado"))}function comienzoPartida(){var e=document.getElementsByTagName("input")[0].value,a=document.getElementsByTagName("input")[1].value,n=document.getElementsByTagName("input")[0],i=document.getElementsByTagName("input")[1];if((nombreVerdadero=/^\D{1}.{3,}/g.test(e))?n.classList.remove("fondoRojo"):n.classList.add("fondoRojo"),(partidaVerdadera=a>0&&/^[1-9]/g.test(a))?i.classList.remove("fondoRojo"):i.classList.add("fondoRojo"),nombreVerdadero&&partidaVerdadera){n.disabled=!0,i.disabled=!0,total.innerHTML=a,window.scrollTo(0,alturaCargar,{behavior:"smooth"});for(var o=0;o<posibilidades.length;o++)imagenes[o].addEventListener("click",jugar,!1)}}function tiradaAleatoria(){for(var e=0;e<posibilidades.length;e++){var a=Math.floor(Math.random()*posibilidades.length);imagenMaquina.src="publico/imagenes/piedrapapeltijera/"+posibilidades[a]+".avif",imagenMaquina.alt=posibilidades[a]}return imagenMaquina.alt}function jugar(e){window.scrollTo(0,alturaJugar,{behavior:"smooth"});for(var a=0;a<posibilidades.length;a++)if(imagenes[a]==e.target){seleccionJugador=imagenes[a].alt;for(var n=0;n<posibilidades.length;n++)imagenes[n].preventDefault}var i=document.getElementsByTagName("input")[0].value;if(seleccionMaquina=tiradaAleatoria(),actual.innerHTML=Number(actual.innerHTML)+1,seleccionJugador==posibilidades[0]&&seleccionMaquina==posibilidades[2]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador):seleccionJugador==posibilidades[0]&&seleccionMaquina==posibilidades[1]?(puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina):seleccionJugador==posibilidades[0]&&seleccionMaquina==posibilidades[0]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador,puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina):seleccionJugador==posibilidades[1]&&seleccionMaquina==posibilidades[2]?(puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina):seleccionJugador==posibilidades[1]&&seleccionMaquina==posibilidades[1]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador,puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina):seleccionJugador==posibilidades[1]&&seleccionMaquina==posibilidades[0]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador):seleccionJugador==posibilidades[2]&&seleccionMaquina==posibilidades[2]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador,puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina):seleccionJugador==posibilidades[2]&&seleccionMaquina==posibilidades[1]?(puntosJugador+=1,puntuacionJugador.innerHTML=i+": "+puntosJugador):seleccionJugador==posibilidades[2]&&seleccionMaquina==posibilidades[0]&&(puntosMaquina+=1,puntuacionMaquina.innerHTML="máquina: "+puntosMaquina),Number(total.innerHTML)===Number(actual.innerHTML)){if(0===Number(total.innerHTML)&&0==Number(actual.innerHTML))return;fadeOut(bloqueImagenes),resultado.innerHTML=puntosJugador>puntosMaquina?"Gana "+i:puntosJugador==puntosMaquina?"Empate":"Gana la máquina"}}function resetear(){var e=document.getElementsByTagName("input")[0],a=document.getElementsByTagName("input")[1];imagenMaquina.src="publico/imagenes/piedrapapeltijera/robot.svg",e.disabled=!1,a.disabled=!1,document.getElementsByTagName("input")[1].value=0,total.innerHTML=0,actual.innerHTML=0,puntosJugador=0,puntosMaquina=0,puntuacionJugador.innerHTML="",puntuacionMaquina.innerHTML="",resultado.innerHTML="",fadeIn(bloqueImagenes);for(var n=0;n<posibilidades.length;n++)imagenes[n].removeEventListener("click",jugar,!1)}document.addEventListener("DOMContentLoaded",cargarImagenes,!1),document.getElementsByTagName("button")[0].addEventListener("click",comienzoPartida,!0),document.getElementsByTagName("button")[1].addEventListener("click",resetear,!0);