$(document).ready((function(){let a=[],e="",r=document.getElementById("elegir"),d=document.getElementById("participantes"),o=document.getElementById("reiniciar"),n=document.getElementById("iniciar"),s=document.getElementById("ganador"),c=Math.random(),u=Math.random(),t=Math.random(),l=Math.random(),C=0,m=100;function h(){var a=document.getElementById("ganador");for($("#coche1").animate({"margin-left":"0px"},4e3,(function(){$("#iniciar").show(),$("#reiniciar").hide(),$("#iniciar").prop("disabled",!1)})),$("#ruedaCoche11").animate({"margin-left":"0px"},4e3),$("#ruedaCoche12").animate({"margin-left":"0px"},4e3),$("#ruedaCoche11").addClass("rueda__animacion__detras"),$("#ruedaCoche12").addClass("rueda__animacion__detras"),setInterval((function(){"0px"==$("#ruedaCoche11").css("marginLeft")&&($("#ruedaCoche11").removeClass("rueda__animacion__detras"),$("#ruedaCoche12").removeClass("rueda__animacion__detras"),$("#elegir").prop("disabled",!1))}),.01),$("#coche2").animate({"margin-left":"0px"},4e3),$("#ruedaCoche21").animate({"margin-left":"0px"},4e3),$("#ruedaCoche22").animate({"margin-left":"0px"},4e3),$("#ruedaCoche21").addClass("rueda__animacion__detras"),$("#ruedaCoche22").addClass("rueda__animacion__detras"),setInterval((function(){"0px"==$("#ruedaCoche21").css("marginLeft")&&($("#ruedaCoche21").removeClass("rueda__animacion__detras"),$("#ruedaCoche22").removeClass("rueda__animacion__detras"),$("#elegir").prop("disabled",!1))}),.01),$("#coche3").animate({"margin-left":"0px"},4e3),$("#ruedaCoche31").animate({"margin-left":"0px"},4e3),$("#ruedaCoche32").animate({"margin-left":"0px"},4e3),$("#ruedaCoche31").addClass("rueda__animacion__detras"),$("#ruedaCoche32").addClass("rueda__animacion__detras"),setInterval((function(){"0px"==$("#ruedaCoche31").css("marginLeft")&&($("#ruedaCoche31").removeClass("rueda__animacion__detras"),$("#ruedaCoche32").removeClass("rueda__animacion__detras"))}),.01),$("#coche4").animate({"margin-left":"0px"},4e3),$("#ruedaCoche41").animate({"margin-left":"0px"},4e3),$("#ruedaCoche42").animate({"margin-left":"0px"},4e3),$("#ruedaCoche41").addClass("rueda__animacion__detras"),$("#ruedaCoche42").addClass("rueda__animacion__detras"),setInterval((function(){"0px"==$("#ruedaCoche41").css("marginLeft")&&($("#ruedaCoche41").removeClass("rueda__animacion__detras"),$("#ruedaCoche42").removeClass("rueda__animacion__detras"))}),.01),a.classList.remove("ganador"),a.innerHTML="",completada=!1,e="",a="",i=0;i<4;i++)$("#com"+(i+1)).text(e);c=Math.random(),u=Math.random(),t=Math.random(),l=Math.random()}r.value=0,d.innerHTML="Has elegido 0 participante(s)",$(".ruedaCoche").addClass("ocultarRuedas"),d.innerHTML="",n.disabled=!0,$("#saldo").text(m),o.addEventListener("click",h,!1),$("#elegir").change((function(){if(0!=r.value){a.length=0;for(var e=0;e<4;e++)$("#coche"+(e+1)).hide(),$(".pista"+(e+1)).hide();var o=$(this).val();for(e=0;e<o;e++)$(".pista"+(e+1)).show(),a[e]={posicion:e+1,imagen:$("#coche"+(e+1)).show()};d=document.getElementById("participantes");for(e=0;e<a.length;e++)d.innerHTML="Has elegido "+a[e].posicion+" participante(s)",C=a[e].posicion;n.disabled=!1,1==C?($("#ruedaCoche11").removeClass("ocultarRuedas"),$("#ruedaCoche12").removeClass("ocultarRuedas"),$("#ruedaCoche21").addClass("ocultarRuedas"),$("#ruedaCoche22").addClass("ocultarRuedas"),$("#ruedaCoche31").addClass("ocultarRuedas"),$("#ruedaCoche32").addClass("ocultarRuedas"),$("#ruedaCoche41").addClass("ocultarRuedas"),$("#ruedaCoche42").addClass("ocultarRuedas")):2==C?($("#ruedaCoche11").removeClass("ocultarRuedas"),$("#ruedaCoche12").removeClass("ocultarRuedas"),$("#ruedaCoche21").removeClass("ocultarRuedas"),$("#ruedaCoche22").removeClass("ocultarRuedas"),$("#ruedaCoche31").addClass("ocultarRuedas"),$("#ruedaCoche32").addClass("ocultarRuedas"),$("#ruedaCoche41").addClass("ocultarRuedas"),$("#ruedaCoche42").addClass("ocultarRuedas")):3==C?($("#ruedaCoche11").removeClass("ocultarRuedas"),$("#ruedaCoche12").removeClass("ocultarRuedas"),$("#ruedaCoche21").removeClass("ocultarRuedas"),$("#ruedaCoche22").removeClass("ocultarRuedas"),$("#ruedaCoche31").removeClass("ocultarRuedas"),$("#ruedaCoche32").removeClass("ocultarRuedas"),$("#ruedaCoche41").addClass("ocultarRuedas"),$("#ruedaCoche42").addClass("ocultarRuedas")):4==C&&($("#ruedaCoche11").removeClass("ocultarRuedas"),$("#ruedaCoche12").removeClass("ocultarRuedas"),$("#ruedaCoche21").removeClass("ocultarRuedas"),$("#ruedaCoche22").removeClass("ocultarRuedas"),$("#ruedaCoche31").removeClass("ocultarRuedas"),$("#ruedaCoche32").removeClass("ocultarRuedas"),$("#ruedaCoche41").removeClass("ocultarRuedas"),$("#ruedaCoche42").removeClass("ocultarRuedas"))}else{for(o=$(this).val(),e=0;e<4;e++)$("#coche"+(e+1)).hide(),$(".pista"+(e+1)).hide(),$("#ruedaCoche11").addClass("ocultarRuedas"),$("#ruedaCoche12").addClass("ocultarRuedas"),$("#ruedaCoche21").addClass("ocultarRuedas"),$("#ruedaCoche22").addClass("ocultarRuedas"),$("#ruedaCoche31").addClass("ocultarRuedas"),$("#ruedaCoche32").addClass("ocultarRuedas"),$("#ruedaCoche41").addClass("ocultarRuedas"),$("#ruedaCoche42").addClass("ocultarRuedas");n.disabled=!0,d.innerHTML="",h()}})),$("#dinero").on("keyup",(function(){let a=Number($("#dinero").val());m<a?(s.innerHTML="¡No puedes apostar más de lo que tienes!",s.classList.add("ganador"),$("#iniciar").prop("disabled",!0)):"0"!==$("#elegir").val()&&($("#iniciar").prop("disabled",!1),s.classList.remove("ganador"),s.innerHTML="")})),$("#iniciar").click((function(){$("#elegir").prop("disabled",!0),$("#iniciar").prop("disabled",!0);let a,r=Number($("#apostar").val()),d=Number($("#dinero").val()),o="";if(m<=0)return s.innerHTML="¡Te has quedado sin saldo, recarga el navegador para iniciar una nueva partida",void s.classList.add("ganador");let n=function(){let a=window.innerWidth;if(a<=450)return"270px";if(a>450&&a<=550)return"350px";if(a>550&&a<=650)return"450px";if(a>650&&a<=750)return"500px";if(a>750&&a<=850)return"700px";if(a>850&&a<=950)return"800px";if(a>950&&a<=1050)return"900px";if(a>1050)return"1050px"}();$("#coche1").animate({"margin-left":n},Math.floor(5e3*c+1),(function(){a=function(){let a;return 1==C?(u=1,t=1,l=1):2==C?(t=1,l=1):3==C&&(l=1),a=c<u?c<t?c<l?1:4:t<l?3:4:u<t?u<l?2:4:3,$("#iniciar").hide(),$("#reiniciar").show(),a}(),r===a?(m+=d,o="Enhorabuena, has ganado"):(m-=d,m=m<=0?0:m,o="Lo siento, intentalo de nuevo"),$("#saldo").text(m),s.innerHTML=`\n                                ¡Ganador: coche ${a}!\n                                ${o}\n                                `,e="",s.classList.add("ganador")})),$("#ruedaCoche11").animate({"margin-left":n},Math.floor(5e3*c+1)),$("#ruedaCoche12").animate({"margin-left":n},Math.floor(5e3*c+1)),$("#ruedaCoche11").addClass("rueda__animacion__delante"),$("#ruedaCoche12").addClass("rueda__animacion__delante"),setInterval((function(){$("#ruedaCoche11").css("marginLeft")==n&&($("#ruedaCoche11").removeClass("rueda__animacion__delante"),$("#ruedaCoche12").removeClass("rueda__animacion__delante"))}),.01),$("#coche2").animate({"margin-left":n},Math.floor(5e3*u+1)),$("#ruedaCoche21").animate({"margin-left":n},Math.floor(5e3*u+1)),$("#ruedaCoche22").animate({"margin-left":n},Math.floor(5e3*u+1)),$("#ruedaCoche21").addClass("rueda__animacion__delante"),$("#ruedaCoche22").addClass("rueda__animacion__delante"),setInterval((function(){$("#ruedaCoche21").css("marginLeft")==n&&($("#ruedaCoche21").removeClass("rueda__animacion__delante"),$("#ruedaCoche22").removeClass("rueda__animacion__delante"))}),.01),$("#coche3").animate({"margin-left":n},Math.floor(5e3*t+1)),$("#ruedaCoche31").animate({"margin-left":n},Math.floor(5e3*t+1)),$("#ruedaCoche32").animate({"margin-left":n},Math.floor(5e3*t+1)),$("#ruedaCoche31").addClass("rueda__animacion__delante"),$("#ruedaCoche32").addClass("rueda__animacion__delante"),setInterval((function(){$("#ruedaCoche31").css("marginLeft")==n&&($("#ruedaCoche31").removeClass("rueda__animacion__delante"),$("#ruedaCoche32").removeClass("rueda__animacion__delante"))}),.01),$("#coche4").animate({"margin-left":n},Math.floor(5e3*l+1)),$("#ruedaCoche41").animate({"margin-left":n},Math.floor(5e3*l+1)),$("#ruedaCoche42").animate({"margin-left":n},Math.floor(5e3*l+1)),$("#ruedaCoche41").addClass("rueda__animacion__delante"),$("#ruedaCoche42").addClass("rueda__animacion__delante"),setInterval((function(){$("#ruedaCoche41").css("marginLeft")==n&&($("#ruedaCoche41").removeClass("rueda__animacion__delante"),$("#ruedaCoche42").removeClass("rueda__animacion__delante"))}),.01)}))}));